<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
		
		<!-- Load highcharts.js before controlplot.js -->
		<script src="http://code.highcharts.com/adapters/standalone-framework.js"></script>
		<script src="http://code.highcharts.com/highcharts.js"></script>
		<script type="text/javascript" src="../../library/controlplot.js"></script>
		
		<!-- mathJs -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/2.0.1/math.min.js"></script>
		
		<!-- Pretty Math -->
		<script type="text/javascript"   src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

		<script type="text/javascript" src="nouislider.min.js"></script>
		<!--<link rel="stylesheet" type="text/css" href="nouislider_modified.css">-->
		
		<script type="text/javascript" src="demo_transfer_function_bode.js"></script>
		<link rel="stylesheet" type="text/css" href="../style.css">
		<link rel="stylesheet" type="text/css" href="demo_transfer_function_bode.css">
    </head>
	<body>
		<h1>Transfer function and bode plot</h1>
		<p id="demo-description"> 
			This demo illustrates the effect of a dynamic system described by a transfer function on a sine input. <br>
			You can select the amplitude and angular frequency using the sliders below and see the amplification and phase shift highlighted in the bode plot. The output shows the input-sine in blue, the output in black.
			You can also enter a custom transfer function if you want to.
		</p>
		<div id="demo-container">
			<div id="input">
				<h3>Transfer Function</h3>
				<form id="input-form">
					<p>Fill in a transfer function below by entering the coefficients separated by commas. </p>
					<span>Nominator: </span> <input type="text" id="input-numerator"></input> <br>
					<span>Denominator: </span><input type="text" id="input-denominator"></input> 
					<p><input type="button" id="submit-button" value="Submit"></input></p>
				</form>
				<p> Transfer Funtion:
					<span class="formula" id="tf-function">
					<!-- $$ h(s) = \frac{\kappa}{\tau s + 1} $$ -->
					</span>
				</p>
				
				
				<h3>Input Signal</h3>
				<div id="input-signal-box">
					<span class="formula" id="input-function">
						$$ u(t) = A \sin{(\omega t)} $$
					</span>
					<span class="slider-text">Choose a value of A: </span>
					<div style="width:250px" id="slider-amplitude" class="slider" ></div>
					<div>
						<span class="slider-value">A = </span> <span id="amplitude-value" class="slider-value"></span>
					</div>
					<br>
					<span class="slider-text">Choose a value of ω: </span>
					<div style="width:250px" id="slider-omega" class="slider"></div>
					<div>
						<span class="slider-value">ω = </span> <span id="omega-value" class="slider-value"></span>
					</div>
				</div>
			</div>
			<div id="bode">
				<h3>Bode Plot of Transfer Function</h3>
				<div id="bode-plot-container"></div>
			</div>
			<div id="output">
				<h3>Output</h3>
				<div id="output-plot-container"></div>
				<input type="checkbox" id="check-auto-scale" style="margin-left: 3em"checked>Auto-scale</input>
			</div>
		</div>
	</body>
</html>